__require=function e(t,o,n){function i(s,l){if(!o[s]){if(!t[s]){var a=s.split("/");if(a=a[a.length-1],!t[a]){var r="function"==typeof __require&&__require;if(!l&&r)return r(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}}var d=o[s]={exports:{}};t[s][0].call(d.exports,function(e){return i(t[s][1][e]||e)},d,d.exports,e,t,o,n)}return o[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({Scene_to_game:[function(e,t,o){"use strict";cc._RF.push(t,"eeaack5yotAqbXcd0MR9Zmp","Scene_to_game"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:cc.AudioClip}},start:function(){var e=cc.audioEngine.play(this.audio,!1,.5);this.node.on(cc.Node.EventType.TOUCH_START,function(t){cc.audioEngine.stop(e),cc.log("score text touch"),cc.director.loadScene("bounceGame")},this.node)}}),cc._RF.pop()},{}],Scene_to_menu:[function(e,t,o){"use strict";cc._RF.push(t,"58971RSht5PyI+LTNhpsAvc","Scene_to_menu"),cc.Class({extends:cc.Component,properties:{btnEffect:cc.AudioClip},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.audioEngine.playEffect(this.btnEffect),cc.log("\u8f6c\u573a\u666f"),cc.director.resume(),cc.director.loadScene("start")},this.node)}}),cc._RF.pop()},{}],Scene_to_pause:[function(e,t,o){"use strict";cc._RF.push(t,"ec119IQYpdM95gDEyshrG22","Scene_to_pause"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.resume();var t=cc.find("Canvas/pause_scene");cc.log("\u8282\u70b9\u540d\u5b57\uff1a"+t)},this.node)}}),cc._RF.pop()},{}],boll:[function(e,t,o){"use strict";cc._RF.push(t,"46e33Lf/o1NJrSwDSrTdW6w","boll"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(e,t,o){if("boxSprite"==o.node.name){cc.audioEngine.playEffect(t.node.game.rockAudio,!1);var n=o.getComponent(cc.Sprite),i=n.getComponentInChildren(cc.Label),c=parseInt(i.string);1==c?n.node.destroy():i.string=(--c).toString();var s=this.hslToRgb(.025*c,.75,.65);n.node.setColor(cc.color(s[0],s[1],s[2]))}"lifeBox"==o.node.name&&(cc.audioEngine.playEffect(t.node.game.circleAudio,!1),o.node.destroy(),t.node.game.addBolls++)},hslToRgb:function(e,t,o){var n,i,c;if(0==t)n=i=c=o;else{var s=function(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e},l=o<.5?o*(1+t):o+t-o*t,a=2*o-l;n=s(a,l,e+1/3),i=s(a,l,e),c=s(a,l,e-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*c)]}}),cc._RF.pop()},{}],bounceGame:[function(e,t,o){"use strict";cc._RF.push(t,"9ee48eR4DtEmZNt1HYcUdPD","bounceGame");e("groundSprite");var n=!1;cc.Class({extends:cc.Component,properties:{bollDown:!1,isBegin:!1,isActivity:!1,isFirstBoll:!1,firstBollPositionX:5,allBolls:0,tampBolls:0,addBolls:0,level:1,indexBoll:{default:null,type:cc.Sprite},boxPrefab:{default:null,type:cc.Prefab},bollPrefab:{default:null,type:cc.Prefab},lifePrefab:{default:null,type:cc.Prefab},ground:{default:null,type:cc.Node},ballLink:{default:null,type:cc.Sprite},levelLabel:{default:null,type:cc.Label},allBollsLabel:{default:null,type:cc.Label},rockAudio:{default:null,url:cc.AudioClip},circleAudio:{default:null,url:cc.AudioClip},ball:{default:null,type:cc.Node},pause_scene:{default:null,type:cc.Node}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.pause_scene.active=!1,this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-484)),cc.log("\u521d\u59cb\u5316\u5c0f\u7403\u7684\u4f4d\u7f6e"+this.indexBoll.node.position),this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-484)),this.ballLink.enabled=!1,this.ground.getComponent("groundSprite").game=this;var e=this.node.getChildByName("bt_pause");e.on(cc.Node.EventType.TOUCH_START,function(t){cc.log("\u8282\u70b9\u540d\u5b57a\u4e3a\uff1a"+e.name),n?(cc.director.pause(),this.pause_scene.active=!0,n=!1,cc.log("resume\u72b6\u6001\u4e3a\uff1a"+n)):(this.pause_scene.active=!1,cc.director.resume(),n=!0)}.bind(this),this),this.initBox(),this.allBolls=1,this.level=1,this.node.on(cc.Node.EventType.TOUCH_START,function(e){this.touchStart(e)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){this.touchMove(e)}.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,function(e){this.touchEnd(e)}.bind(this),this);for(var t=0;t<6;t++){if(1==Math.ceil(10*Math.random())%2){var o=cc.instantiate(this.boxPrefab);this.node.addChild(o),o.setPosition(110*t-330,450);var i=this.hslToRgb(.025*this.level,.75,.65);o.setColor(cc.color(i[0],i[1],i[2]))}}},initBox:function(){if(this.level++,this.levelLabel.getComponent(cc.Label).string="\u7b49\u7ea7\uff1a"+this.level,1==this.isBegin){for(var e=this.node.children,t=0;t<e.length;t++){var o=e[t];"boxSprite"!=o.name&&"lifeBox"!=o.name||o.position.y<=450&&(o.y-=100,o.y<-350&&this.showGameOver())}var n=!1;for(t=0;t<7;t++){if(1==Math.ceil(10*Math.random())%2)if(1==Math.ceil(10*Math.random())%2&&0==n){n=!0;var i=cc.instantiate(this.lifePrefab);i.setPosition(110*t-330,450),this.node.addChild(i)}else{var c=cc.instantiate(this.boxPrefab),s=c.children[0],l=Math.ceil(10*Math.random())%2;s.getComponent(cc.Label).string=1==l?2*this.level:this.level,this.node.addChild(c),c.setPosition(110*t-330,450);var a=this.hslToRgb(.025*this.level,.75,.65);c.setColor(cc.color(a[0],a[1],a[2]))}}this.bollDown=!1}},touchStart:function(e){this.ballLink.node.setPosition(cc.v2(this.firstBollPositionX,-484))},touchMove:function(e){if(0==this.isActivity){var t=e.touch._point,o=(t=this.node.convertToNodeSpaceAR(t),this.ball.getPosition());cc.log("\u89e6\u70b9\u4f4d\u7f6e"+t),cc.log("\u5c0f\u7403\u4f4d\u7f6e"+this.ball.position);var n=cc.pSub(t,o);cc.log("\u5411\u91cf\u4e3a\uff1a"+n);var i=cc.pToAngle(n)/Math.PI*180;cc.log("\u65cb\u8f6c\u89d2\u5ea6\u4e3a"+i),this.ballLink.node.setRotation(90-i),this.ballLink.enabled=!0,cc.log("setRoatation"+(90-i)),-75<this.ballLink.node.rotation&&this.ballLink.node.rotation<75?this.ballLink.enabled=!0:this.ballLink.enabled=!1}},touchEnd:function(e){0==this.isActivity&&1==this.ballLink.enabled&&(this.ballLink.enabled=!1,this.allBollsLabel.enabled=!1,0==this.isBegin&&(this.isBegin=!0),this.schedule(function(){var e=cc.instantiate(this.bollPrefab);this.node.addChild(e),e.game=this,e.setPosition(cc.v2(this.firstBollPositionX,-486));var t=e.getComponent(cc.RigidBody),o=-this.ballLink.node.rotation-270,n=100*Math.cos(.017453293*o),i=100*Math.sin(.017453293*o);t.linearVelocity=cc.v2(17*n,17*i)}.bind(this),.08,this.allBolls-1),this.schedule(function(){this.indexBoll.enabled=!0,cc.log("\u8f68\u8ff9\u4f4d\u7f6e\u4e3a\uff1a"+this.indexBoll.node.position),this.isFirstBoll=!1}.bind(this),.08*(this.allBolls-1),1),this.isActivity=!0,indexBollP=this.indexBoll.node.getPositionX(),cc.log("\u8f68\u8ff9\u4f4d\u7f6e\u4e3a\uff1a"+this.indexBollP.position()),this.ballLink.node.setPosition(cc.v2(this.indexBollP,-484)))},showGameOver:function(){cc.director.loadScene("game_over")},update:function(e){1==this.bollDown&&this.initBox(),1==this.isFirstBoll&&(this.indexBoll.node.setPosition(cc.v2(this.firstBollPositionX,-486)),this.indexBoll.enabled=!0)},hslToRgb:function(e,t,o){var n,i,c;if(0==t)n=i=c=o;else{var s=function(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e},l=o<.5?o*(1+t):o+t-o*t,a=2*o-l;n=s(a,l,e+1/3),i=s(a,l,e),c=s(a,l,e-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*c)]}}),cc._RF.pop()},{groundSprite:"groundSprite"}],box:[function(e,t,o){"use strict";cc._RF.push(t,"64d28CtzUZHU6zwDKNtyRk2","box"),cc.Class({extends:cc.Component,properties:{boxtag:0},start:function(){}}),cc._RF.pop()},{}],bt_continue:[function(e,t,o){"use strict";cc._RF.push(t,"62c577YM81DYqXkjlPDurSW","bt_continue"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.resume();var t=cc.find("Canvas/pause_scene");cc.log("\u8282\u70b9\u540d\u5b57\uff1a"+t.name),t.active=!1},this.node)},start:function(){}}),cc._RF.pop()},{}],bt_pause:[function(e,t,o){"use strict";cc._RF.push(t,"85795ib9AJF25Lsw1w/zCQj","bt_pause");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.log("\u8282\u70b9")},this.node)},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){},this.node)}}),cc._RF.pop()},{}],groundSprite:[function(e,t,o){"use strict";cc._RF.push(t,"7061e552B9BQZZm3GGw6d+3","groundSprite"),cc.Class({extends:cc.Component,properties:{isTouchBoll:!1,game:{default:null,serializable:!1}},onLoad:function(){},onBeginContact:function(e,t,o){"bollSprite"==o.node.name&&(o.node.destroy(),0==this.isTouchBoll&&(this.isTouchBoll=!0,this.game.isFirstBoll=!0),this.game.tampBolls++,this.game.tampBolls==this.game.allBolls&&(this.game.allBolls+=this.game.addBolls,this.game.addBolls=0,this.game.bollDown=!0,this.game.tampBolls=0,this.isTouchBoll=!1,this.game.isActivity=!1,this.game.allBollsLabel.enabled=!0,this.game.allBollsLabel.getComponent(cc.Label).string="x "+this.game.allBolls,this.game.firstBollPositionX=o.node.x,this.game.indexBoll.node.setPosition(cc.v2(this.game.firstBollPositionX,-486)),this.game.allBollsLabel.node.setPosition(cc.v2(this.game.firstBollPositionX,-451.6))))},start:function(){},update:function(){}}),cc._RF.pop()},{}],lifeBox:[function(e,t,o){"use strict";cc._RF.push(t,"6700apouQpBKYVEhPCOXU/q","lifeBox"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this.node.runAction(cc.scaleTo(1,.8,.8)),t=this.node.runAction(cc.scaleTo(1,1,1)),o=cc.sequence(e,t);this.schedule(function(){cc.repeatForever(this.node.runAction(o))},2)},update:function(){},onBeginContact:function(e,t,o){"bollSprite"==o.node.name&&t.node.destroy()}}),cc._RF.pop()},{}],motion_st:[function(e,t,o){"use strict";cc._RF.push(t,"6eadecMt1tD6Lc7nLQgU4eD","motion_st");e("bounceGame");cc.Class({extends:cc.Component,properties:{boll:{default:null,type:cc.Sprite}},update:function(e){this.node.position=this.boll.node.position,cc.log("\u62d6\u5c3e\u4f4d\u7f6e\u4e3a\uff1a"+this.node.position)}}),cc._RF.pop()},{bounceGame:"bounceGame"}],over:[function(e,t,o){"use strict";cc._RF.push(t,"7a57cokdfxF14UNVXu3OB+s","over"),cc.Class({extends:cc.Component,properties:{gameButton:{default:null,type:cc.Button},ButtonLabel:{default:null,type:cc.Node},overEffect:cc.AudioClip},onLoad:function(){var e=cc.repeatForever(cc.sequence(cc.scaleTo(1,.8,.8),cc.scaleTo(1,1,1)));this.ButtonLabel.runAction(e),cc.audioEngine.playEffect(this.overEffect);this.node.getChildByName("gameButton");cc.log("\u6309\u94ae\u540d\u79f0"+this.gameButton.name)}}),cc._RF.pop()},{}],start:[function(e,t,o){"use strict";cc._RF.push(t,"a6805HeSU1GW50XNW2oZ6MI","start"),cc.Class({extends:cc.Component,properties:{gametitle:{default:null,type:cc.Node},startEffect:cc.AudioClip},onLoad:function(){var e=cc.repeatForever(cc.sequence(cc.scaleTo(1,.8,.8),cc.scaleTo(1,1,1)));this.gametitle.runAction(e)},start:function(){}}),cc._RF.pop()},{}]},{},["Scene_to_game","Scene_to_menu","Scene_to_pause","boll","bounceGame","box","bt_continue","bt_pause","groundSprite","lifeBox","motion_st","over","start"]);